<div class="container container-fluid">
  <!-- <div class="page-section">
    <app-section-title title="Available pets"></app-section-title>
  </div> -->
  <div class="d-flex gap-3 flex-lg-row flex-column">
    <app-filter-select></app-filter-select>
    <div class="d-flex flex-column gap-3 flex-fill">
      <app-filter-chips
        [filters]="filters"
        (remove)="onRemoveFilter($event)"
        (clear)="onClearAllFilters()"
      ></app-filter-chips>
      <section class="page-section">
        @if(!myPets.length && !loading) {
        <p>
          No results matching your criteria. Consider broadening your search.
        </p>
        } @else {
        <div class="card-list">
          @for (item of myPets ;let i=$index; track i) {

          <app-card [item]="item" [loading]="loading"> </app-card>

          }
        </div>
        }
      </section>
      @if (myPets.length && !loading) {
      <section class="page-section">
        <nav aria-label="Page navigation">
          <ul class="pagination justify-content-end">
            <li
              class="page-item"
              [class.disabled]="currentPage === 1"
              (click)="currentPage > 1 && goToPage(currentPage - 1)"
            >
              <a class="page-link" aria-label="Previous">
                <span aria-hidden="true">&laquo;</span>
              </a>
            </li>

            @for (page of totalPagesArray; track page) {
            <li
              class="page-item"
              [class.active]="currentPage === page"
              (click)="goToPage(page)"
            >
              <a class="page-link">{{ page }}</a>
            </li>
            }

            <li
              class="page-item"
              [class.disabled]="currentPage === totalPages"
              (click)="currentPage < totalPages && goToPage(currentPage + 1)"
            >
              <a class="page-link" aria-label="Next">
                <span aria-hidden="true">&raquo;</span>
              </a>
            </li>
          </ul>
        </nav>
      </section>
      }
    </div>
  </div>
</div>
