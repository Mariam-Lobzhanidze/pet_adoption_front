<!--desktop nav-->
<nav class="navbar bg-primary p-0 position-relative">
  <div class="container container-fluid h-100 gap-4">
    <a routerLink="/">
      <img src="adopto_logo.png" class="adopto-logo" alt="adopto logo" />
    </a>
    <ul
      class="navbar-nav d-lg-flex d-none flex-row align-items-center justify-content-between flex-fill h-100 border-light border-end pe-4 border-opacity-50"
    >
      <li class="nav-item">
        <button
          class="btn icon-link text-light fw-bold border-0"
          (click)="this.showSecondaryNav = !this.showSecondaryNav"
        >
          All about pets
          <i
            class="ph-bold"
            [ngClass]="showSecondaryNav ? 'ph-caret-down' : 'ph-caret-up'"
          ></i>
        </button>
      </li>

      <li class="nav-item">
        <a class="text-light" routerLink="">
          <i class="ph-fill ph-heart fs-3"></i>
        </a>
      </li>
    </ul>

    <ul class="navbar-nav flex-row align-items-center">
      @if(isLoggedIn) {

      <li class="nav-item d-none d-lg-flex">
        <a class="nav-link text-light">
          <app-user-avatar></app-user-avatar>
        </a>
      </li>

      } @else {
      <button
        class="btn btn-secondary text-light fw-bold d-none d-lg-flex text-uppercase"
        [routerLink]="'/auth'"
      >
        Sign in
      </button>
      }
      <button
        class="shadow-none btn d-lg-none d-flex"
        type="button"
        (click)="onShowMobileNav()"
      >
        <i class="ph ph-list text-light fs-2"></i>
      </button>
    </ul>
  </div>

  <app-secondary-nav
    [isVisible]="showSecondaryNav"
    [secondaryNavItems]="navItems"
  ></app-secondary-nav>
</nav>
<!--mobile nav-->
<app-sidebar [offcanvasPosition]="'start'" #offcanvasMobileNav>
  <a class="offcanvas__title" routerLink="/">
    <img src="adopto_logo.png" class="adopto-logo" alt="adopto logo" />
  </a>
  <div class="offcanvas__body h-100">
    <nav class="navbar d-flex flex-column h-100">
      <ul class="navbar-nav d-flex flex-column w-100 flex-fill">
        @for(item of navItems;let i=$index;track item.title) {
        <li class="icon-link nav-item p-2" (click)="onShowSubMenu(item)">
          <a class="nav-link">{{ item.title }}</a>
          <i class="ph ph-caret-right"></i>
        </li>

        }
        <div class="w-100"><hr class="divider text-light" /></div>
        <li class="nav-item p-2 w-100">
          <a class="nav-link">Favorites</a>
        </li>
      </ul>

      <ul
        class="navbar-nav d-flex flex-row justify-content-between align-items-center w-100 align-self-end"
      >
        @if(isLoggedIn) {

        <li class="nav-item">
          <a class="nav-link text-light">
            <app-user-avatar></app-user-avatar>
          </a>
        </li>

        } @else {
        <button
          class="btn btn-secondary text-light rounded fw-bold text-uppercase"
          [routerLink]="'/auth'"
        >
          Sign in
        </button>
        }
        <li class="nav-item p-2">
          <span class="p-2">En|Ka</span>
        </li>
      </ul>
    </nav>

    <app-submenu
      [showSubmenu]="showSubMenu"
      [submenuData]="selectedSidebarData"
      (close)="showSubMenu = false"
    ></app-submenu>
  </div>
</app-sidebar>
